<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Gacha V28 Gentle Slopes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Rochester&display=swap');

        body {
            font-family: 'Gowun Dodum', sans-serif;
            background-color: #0f172a; 
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 40px),
                radial-gradient(rgba(255,255,255,0.4), transparent 100%);
            background-size: 550px 550px, 350px 350px, 250px 250px, 100% 100%;
            background-position: 0 0, 40px 60px, 130px 270px, 0 0;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .font-en { font-family: 'Rochester', cursive; }

        .tree-clip {
            clip-path: polygon(
                48% 0%, 52% 0%, 
                35% 25%, 42% 25%, 
                25% 50%, 32% 50%, 
                15% 75%, 22% 75%, 
                5% 95%, 15% 100%, 
                85% 100%, 95% 95%,
                78% 75%, 85% 75%, 
                68% 50%, 75% 50%, 
                58% 25%, 65% 25% 
            );
        }

        .glass-border {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px; 
            filter: drop-shadow(0 0 15px rgba(255,255,255,0.2));
        }

        .glass-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, rgba(236, 252, 203, 0.1) 0%, rgba(217, 249, 157, 0.3) 60%, rgba(190, 242, 100, 0.5) 100%);
            backdrop-filter: blur(2px);
            box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.6), inset 10px 0 20px rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden; 
        }

        .shine-highlight {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at 35% 25%, rgba(255,255,255,0.7) 0%, transparent 15%), linear-gradient(110deg, transparent 35%, rgba(255,255,255,0.2) 40%, transparent 45%);
            pointer-events: none;
            z-index: 25; 
        }

        .snow-drifts {

            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px; 
            background: linear-gradient(to bottom, rgba(255,255,255,0.98) 0%, rgba(235,235,235,1) 100%);
            border-radius: 50% / 100% 100% 0 0;
            box-shadow: inset 0 -2px 5px rgba(0,0,0,0.05);
            z-index: 18; 
            pointer-events: none;
        }

        .snow-drifts::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 45%;
            height: 55px;
            background: inherit;
            border-radius: 0 100% 0 0; 
            transform-origin: bottom left;
            box-shadow: inset -2px -2px 10px rgba(0,0,0,0.5);
            z-index: 19;
        }

        .snow-drifts::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 45%;
            height: 55px;
            background: inherit;
            border-radius: 100% 0 0 0; 
            transform-origin: bottom right;
            box-shadow: inset 2px -2px 10px rgba(0,0,0,0.5);
            z-index: 19;
        }

        @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(350px) translateX(20px); opacity: 0; } 
        }
        .snowflake {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 15;
            animation: snowfall linear forwards;
            box-shadow: 0 0 5px white;
        }

        @keyframes shake { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-0.5deg); } 75% { transform: rotate(0.5deg); } } 
        .group-shake { animation: shake 0.2s ease-in-out infinite; } 
        
        @keyframes spinLever { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .lever-spin { animation: spinLever 1s ease-in-out; }
        
        @keyframes drop { 0% { top: 75%; opacity: 0; transform: scale(0.5) rotate(0deg); } 100% { top: 95%; opacity: 1; transform: scale(1) rotate(720deg); } }
        .capsule-drop { animation: drop 0.8s cubic-bezier(0.3, 1.5, 0.5, 1) forwards; }
        
        @keyframes pop { 0% { transform: scale(0); } 80% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .modal-pop { animation: pop 0.4s ease-out forwards; }

        @keyframes openTop { 
            0% { transform: translateY(0) rotate(0); }
            100% { transform: translateY(-50px) rotate(-20deg); opacity: 1; }
        }
        @keyframes openBottom { 
            0% { transform: translateY(0) rotate(0); }
            100% { transform: translateY(30px) rotate(10deg); opacity: 1; }
        }
        @keyframes jumpAndReveal {
            0% { transform: translateY(30px) scale(0.3); opacity: 1; z-index: 10; }
            40% { z-index: 10; }
            50% { transform: translateY(-40px) scale(1.4); opacity: 1; z-index: 30; }
            100% { transform: translateY(-10px) scale(1.1); opacity: 1; z-index: 30; }
        }
        .animate-open-top { animation: openTop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards; }
        .animate-open-bottom { animation: openBottom 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards; }
        .animate-jump-num { animation: jumpAndReveal 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.4s forwards; will-change: transform, z-index; }

        .lever-base { width: 70px; height: 70px; background: radial-gradient(#a16207, #713f12); border-radius: 50%; border: 3px solid #451a03; box-shadow: inset 0 2px 5px rgba(255,255,255,0.2), 0 5px 10px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.1s; }
        .lever-base:active { transform: scale(0.95); }
        .lever-handle { width: 90px; height: 14px; background: #b45309; border-radius: 8px; position: absolute; box-shadow: 0 2px 4px rgba(0,0,0,0.5); border: 1px solid #78350f; }
        .lever-center { width: 16px; height: 16px; background: #fbbf24; border-radius: 50%; z-index: 10; box-shadow: inset 1px 1px 2px rgba(255,255,255,0.8); }

        .physics-capsule {
            position: absolute;
            width: 28px; 
            height: 28px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: inset 0 0 5px rgba(255,255,255,0.5), 0 2px 4px rgba(0,0,0,0.3);
            will-change: transform, top, left; 
            top: 0;
            left: 0;
            transform-origin: center center;
            z-index: 17; 
        }

        .capsule-top { position: absolute; top: 0; left: 0; width: 100%; height: 50%; border-radius: 36px 36px 0 0; background: linear-gradient(to bottom, rgba(255,255,255,0.9), rgba(255,255,255,0.5)); border-bottom: 1px solid rgba(0,0,0,0.05); z-index: 20; }
        .capsule-bottom { position: absolute; bottom: 0; left: 0; width: 100%; height: 50%; border-radius: 0 0 36px 36px; z-index: 20; }

        .cap-red { background: rgba(252, 165, 165, 1); }
        .cap-gold { background: rgba(253, 224, 71, 1); }
        .cap-green { background: rgba(134, 239, 172, 1); }
        .cap-blue { background: rgba(147, 197, 253, 1); }
        .cap-purple { background: rgba(216, 180, 254, 1); }
        .cap-gray { background: rgba(156, 163, 175, 1); }

        .real-capsule-display { width: 36px; height: 36px; border-radius: 50%; position: relative; overflow: hidden; box-shadow: inset 0 0 5px rgba(255,255,255,0.5), 0 2px 4px rgba(0,0,0,0.3); }

        .text-outline-lg { color: black; -webkit-text-stroke: 3px white; text-shadow: 4px 4px 0px rgba(255,255,255,0.5); paint-order: stroke fill; }
        
        .btn-secondary { background-color: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(4px); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.2s; font-size: 0.875rem; font-weight: 500; padding: 0.5rem 1.5rem; border-radius: 9999px; }
        .btn-secondary:hover { background-color: rgba(255, 255, 255, 0.2); color: white; }

        .custom-input { background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); color: #aaa; text-align: center; border-radius: 8px; padding: 4px; width: 70px; outline: none; transition: 0.2s; font-weight: bold; pointer-events: none; }
        .custom-input.active { background: rgba(0,0,0,0.3); border-color: #fbbf24; color: #fff; pointer-events: auto; }
        .custom-input::placeholder { color: rgba(255,255,255,0.3); font-weight: normal; font-size: 12px;}

        .btn-settings { background-color: rgba(30, 41, 59, 0.8); border: 1px solid rgba(255,255,255,0.2); color: #94a3b8; width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; transition: all 0.2s; cursor: pointer; }
        .btn-settings:hover { background-color: rgba(255,255,255,0.1); color: white; }
        .btn-confirm { background-color: #16a34a; border: 1px solid #22c55e; color: white; font-size: 0.75rem; font-weight: bold; padding: 4px 10px; border-radius: 8px; cursor: pointer; transition: all 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.3); }
        .btn-confirm:hover { background-color: #15803d; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <svg width="0" height="0" class="absolute">
        <linearGradient id="star-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#fef08a;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#eab308;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#a16207;stop-opacity:1" />
        </linearGradient>
    </svg>

    <div class="w-full max-w-lg flex flex-col items-center relative">
        <div class="mb-2 text-center z-10 w-full">
            <h1 class="text-4xl text-white font-bold drop-shadow-md tracking-wider font-en">üéÑMerry Gacha</h1>
            
            <div class="bg-slate-900/60 backdrop-blur px-3 py-3 rounded-xl mt-3 inline-flex items-center gap-3 border border-slate-700 shadow-lg justify-center flex-wrap relative">
                
                <div class="absolute -right-10 top-1/2 -translate-y-1/2">
                    <button id="btn-settings" onclick="enableEditMode()" class="btn-settings" title="ÏÑ§Ï†ï Î≥ÄÍ≤Ω">‚öôÔ∏è</button>
                    <button id="btn-confirm" onclick="confirmChanges()" class="btn-confirm hidden">ÌôïÏù∏</button>
                </div>

                <div class="flex flex-col items-center">
                    <label for="total-input" class="text-[10px] text-slate-400 font-bold uppercase mb-1">Ï†ÑÏ≤¥</label>
                    <input type="number" id="total-input" class="custom-input" placeholder="ÏûÖÎ†•" min="1" disabled>
                </div>
                <div class="h-8 w-px bg-slate-600 mx-1"></div>
                <div class="flex flex-col items-center">
                    <label for="batch-input" class="text-[10px] text-yellow-500 font-bold uppercase mb-1">ÎΩëÏùÑ Ïù∏Ïõê</label>
                    <input type="number" id="batch-input" class="custom-input border-yellow-600/30" placeholder="1" min="1" value="1" disabled>
                </div>
                <div class="h-8 w-px bg-slate-600 mx-1"></div>
                <div class="flex flex-col items-center min-w-[60px]">
                    <label class="text-[10px] text-slate-400 font-bold uppercase mb-1">ÎÇ®ÏùÄ Ïù∏Ïõê</label>
                    <span id="remaining-count" class="text-green-400 font-bold text-xl">--</span>
                </div>
            </div>
        </div>

        <div id="machine-container" class="relative flex flex-col items-center mt-8">
            <div id="shaking-group" class="relative flex flex-col items-center z-10 origin-bottom">
                <div class="z-30 absolute -top-9 drop-shadow-[0_0_15px_rgba(234,179,8,0.6)] animate-pulse">
                    <svg width="54" height="54" viewBox="0 0 24 24" class="metal-star">
                        <path fill="url(#star-gradient)" stroke="#b45309" stroke-width="0.5" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                    </svg>
                </div>

                <div id="bottle-area" class="w-80 h-96 glass-border tree-clip relative filter drop-shadow-xl mt-1">
                    <div class="glass-body tree-clip relative">
                        <div class="shine-highlight"></div>
                        <div class="snow-drifts"></div>
                        <div id="snow-container" class="absolute inset-0 z-10 pointer-events-none overflow-hidden"></div>
                        <div class="absolute top-[45%] left-1/2 -translate-x-1/2 text-center opacity-60 z-0 pointer-events-none">
                            <div class="text-green-900 font-bold text-3xl border-y border-green-800/30 py-1 font-en">Christmas</div>
                        </div>
                        <div id="capsule-container" class="w-full h-full relative z-10 overflow-hidden"></div>
                    </div>
                </div>
            </div>

            <div class="w-56 h-28 bg-[#78350f] rounded-xl border-t-4 border-[#451a03] relative flex flex-col items-center justify-end pb-6 shadow-2xl z-20 -mt-10">
                <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/wood-pattern.png')] pointer-events-none rounded-xl"></div>
                <div class="absolute top-4 w-32 h-8 bg-gradient-to-r from-yellow-700 via-yellow-500 to-yellow-700 rounded flex items-center justify-center shadow-md border border-yellow-800 z-30">
                    <span class="text-[#451a03] text-lg font-kr" style="text-shadow: 0 1px 0 rgba(255,255,255,0.4);">&#8631;</span>
                </div>
                <div id="drop-zone" class="absolute inset-0 overflow-visible pointer-events-none z-50"></div>
                <div class="relative z-30 group -mb-8">
                    <div id="lever" onclick="startGacha()" class="lever-base transition-transform group-hover:scale-105 active:scale-95">
                        <div class="lever-handle"></div>
                        <div class="lever-center"></div>
                    </div>
                </div>
            </div>
            <div class="w-60 h-4 bg-black/40 rounded-full blur-md mt-6"></div>
        </div>

        <div class="mt-12 flex gap-3 z-10">
            <button onclick="resetData()" class="btn-secondary">Ï¥àÍ∏∞Ìôî</button>
            <button onclick="toggleHistory()" class="btn-secondary">Í∏∞Î°ù</button>
        </div>

        <div id="history-panel" class="hidden absolute top-20 bg-slate-800/95 backdrop-blur rounded-xl p-4 shadow-2xl border border-slate-600 z-50 w-64 max-h-96 overflow-y-auto">
            <div class="flex justify-between items-center mb-4 border-b border-slate-600 pb-2">
                <h3 class="text-xl font-bold text-green-400 font-en">Collection</h3>
                <button onclick="toggleHistory()" class="text-gray-400 hover:text-white">‚úï</button>
            </div>
            <div id="history-list" class="flex flex-col gap-2"></div>
        </div>
    </div>

    <div id="result-modal" class="fixed inset-0 bg-black/90 hidden z-[100] flex items-center justify-center p-4 backdrop-blur-md">
        <div class="bg-gradient-to-br from-red-800 to-red-900 p-2 rounded-[2rem] modal-pop w-full max-w-4xl shadow-2xl border-4 border-[#b45309]">
            <div class="relative bg-[#fffbeb] rounded-[1.8rem] p-6 text-center overflow-hidden min-h-[400px] flex flex-col justify-center">
                <div class="absolute inset-0 opacity-10 bg-[radial-gradient(#b45309_1px,transparent_1px)] bg-[length:15px_15px]"></div>
                
                <div class="relative z-10 flex flex-col h-full">
                    <h2 class="text-5xl md:text-6xl font-bold text-red-800 mb-8 drop-shadow-sm font-en">Congratulations!</h2>
                    <div id="result-capsule-area" class="flex-1 flex flex-wrap items-center justify-center gap-8 mb-8"></div>
                    <button onclick="closeModal()" class="w-auto px-10 mx-auto bg-[#84b76d] hover:brightness-110 text-white py-3 rounded-2xl font-bold text-2xl shadow-lg transition border-b-8 border-[#658c52] active:border-b-0 active:translate-y-2">
                        ÌôïÏù∏
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
const _0x44b614=_0x388a;(function(_0x48327e,_0x3664b6){const _0x1a30f9=_0x388a,_0x339dfc=_0x48327e();while(!![]){try{const _0x4a06ab=parseInt(_0x1a30f9(0x202))/0x1*(parseInt(_0x1a30f9(0x179))/0x2)+parseInt(_0x1a30f9(0x22e))/0x3*(-parseInt(_0x1a30f9(0x15a))/0x4)+parseInt(_0x1a30f9(0x232))/0x5*(-parseInt(_0x1a30f9(0x1a4))/0x6)+parseInt(_0x1a30f9(0x14b))/0x7+parseInt(_0x1a30f9(0x21f))/0x8*(-parseInt(_0x1a30f9(0x206))/0x9)+parseInt(_0x1a30f9(0x1f3))/0xa*(-parseInt(_0x1a30f9(0x209))/0xb)+parseInt(_0x1a30f9(0x12f))/0xc*(parseInt(_0x1a30f9(0x14a))/0xd);if(_0x4a06ab===_0x3664b6)break;else _0x339dfc['push'](_0x339dfc['shift']());}catch(_0x1c70f9){_0x339dfc['push'](_0x339dfc['shift']());}}}(_0x59e9,0x34e22));const _0xc13c4c=(function(){let _0x23bf7f=!![];return function(_0x50b5c0,_0x1836f7){const _0x345b5a=_0x23bf7f?function(){const _0x235c33=_0x388a;if(_0x1836f7){const _0x54b375=_0x1836f7[_0x235c33(0x1b0)](_0x50b5c0,arguments);return _0x1836f7=null,_0x54b375;}}:function(){};return _0x23bf7f=![],_0x345b5a;};}()),_0x16badf=_0xc13c4c(this,function(){const _0x15b774=_0x388a;return _0x16badf['toString']()[_0x15b774(0x1b8)](_0x15b774(0x159)+'+$')[_0x15b774(0x1d5)]()[_0x15b774(0x134)+'r'](_0x16badf)[_0x15b774(0x1b8)](_0x15b774(0x159)+'+$');});_0x16badf();const _0x246bd4=(function(){let _0x4bc3ce=!![];return function(_0x53d6e8,_0x593e8e){const _0x192501=_0x4bc3ce?function(){if(_0x593e8e){const _0x3518ec=_0x593e8e['apply'](_0x53d6e8,arguments);return _0x593e8e=null,_0x3518ec;}}:function(){};return _0x4bc3ce=![],_0x192501;};}());(function(){_0x246bd4(this,function(){const _0x1186f1=_0x388a,_0x58ccaf=new RegExp(_0x1186f1(0x1b5)+'\x5c(\x20*\x5c)'),_0x3a52b9=new RegExp('\x5c+\x5c+\x20*(?:['+_0x1186f1(0x228)+_0x1186f1(0x1b2)+_0x1186f1(0x122),'i'),_0x1a64f9=_0x1886a4(_0x1186f1(0x1db));!_0x58ccaf['test'](_0x1a64f9+_0x1186f1(0x1c9))||!_0x3a52b9['test'](_0x1a64f9+_0x1186f1(0x211))?_0x1a64f9('0'):_0x1886a4();})();}());const _0x482d8d=(function(){let _0x1b57f1=!![];return function(_0x3a8950,_0x8a8e2f){const _0x579d0a=_0x1b57f1?function(){if(_0x8a8e2f){const _0x49d44e=_0x8a8e2f['apply'](_0x3a8950,arguments);return _0x8a8e2f=null,_0x49d44e;}}:function(){};return _0x1b57f1=![],_0x579d0a;};}()),_0x149019=_0x482d8d(this,function(){const _0x1838bc=_0x388a;let _0xd455f7;try{const _0x20d3b9=Function(_0x1838bc(0x22f)+_0x1838bc(0x171)+(_0x1838bc(0x212)+'ctor(\x22retu'+_0x1838bc(0x227)+'\x20)')+');');_0xd455f7=_0x20d3b9();}catch(_0x1fac7c){_0xd455f7=window;}const _0x197cb3=_0xd455f7[_0x1838bc(0x18b)]=_0xd455f7[_0x1838bc(0x18b)]||{},_0x1b3ebb=[_0x1838bc(0x130),_0x1838bc(0x1d9),'info',_0x1838bc(0x1aa),'exception',_0x1838bc(0x149),_0x1838bc(0x13b)];for(let _0x200808=0x0;_0x200808<_0x1b3ebb[_0x1838bc(0x1b6)];_0x200808++){const _0x839db8=_0x482d8d[_0x1838bc(0x134)+'r'][_0x1838bc(0x208)][_0x1838bc(0x197)](_0x482d8d),_0x412b6d=_0x1b3ebb[_0x200808],_0x4647b7=_0x197cb3[_0x412b6d]||_0x839db8;_0x839db8[_0x1838bc(0x168)]=_0x482d8d['bind'](_0x482d8d),_0x839db8['toString']=_0x4647b7[_0x1838bc(0x1d5)][_0x1838bc(0x197)](_0x4647b7),_0x197cb3[_0x412b6d]=_0x839db8;}});_0x149019();const Engine=Matter[_0x44b614(0x138)],Render=Matter[_0x44b614(0x21a)],Runner=Matter['Runner'],Bodies=Matter['Bodies'],Composite=Matter['Composite'],Events=Matter[_0x44b614(0x1d2)],World=Matter[_0x44b614(0x1c3)],Body=Matter[_0x44b614(0x219)];let engine,runner,capsules=[],fallingCapsules=[],drawnHistory=[],isBusy=![],syncInterval;const MAX_CAPACITY=0x1e;function _0x388a(_0x4c95db,_0x51f00d){const _0x4f427b=_0x59e9();return _0x388a=function(_0x149019,_0x482d8d){_0x149019=_0x149019-0x120;let _0x2725a2=_0x4f427b[_0x149019];return _0x2725a2;},_0x388a(_0x4c95db,_0x51f00d);}function init(){const _0x31d60d=_0x44b614,_0x5dfd48=localStorage[_0x31d60d(0x125)](_0x31d60d(0x16e)+'n_v7');let _0xe8a7cc=JSON[_0x31d60d(0x1fc)](localStorage[_0x31d60d(0x125)](_0x31d60d(0x218)+_0x31d60d(0x224))||'[]');if(_0x5dfd48){const _0x282f34=JSON[_0x31d60d(0x1fc)](_0x5dfd48);if(_0x282f34[_0x31d60d(0x1b6)]>0x0)_0xe8a7cc[_0x31d60d(0x166)](_0x282f34);localStorage[_0x31d60d(0x1cc)](_0x31d60d(0x16e)+'n_v7'),localStorage[_0x31d60d(0x120)](_0x31d60d(0x218)+_0x31d60d(0x224),JSON[_0x31d60d(0x217)](_0xe8a7cc));}drawnHistory=_0xe8a7cc;const _0x18ae42=localStorage[_0x31d60d(0x125)]('gacha_tota'+_0x31d60d(0x1b9)),_0x5606fb=localStorage[_0x31d60d(0x125)](_0x31d60d(0x194)+_0x31d60d(0x18f));_0x18ae42&&(document[_0x31d60d(0x15f)+_0x31d60d(0x1a5)]('total-inpu'+'t')[_0x31d60d(0x1be)]=_0x18ae42);if(_0x5606fb)document['getElement'+'ById']('batch-inpu'+'t')[_0x31d60d(0x1be)]=_0x5606fb;updateRemainingDisplay(),initPhysics(),syncInterval=setInterval(checkAndSyncBalls,0x7d0);}function checkAndSyncBalls(){const _0x41618b=_0x44b614;if(isBusy)return;const _0x1f9aac=getAvailableNumbers(),_0x48845e=Math['min'](_0x1f9aac['length'],MAX_CAPACITY),_0x302dce=capsules[_0x41618b(0x1b6)];if(_0x302dce!==_0x48845e){isBusy=!![];const _0x524e94=_0x48845e-_0x302dce;_0x524e94>0x0?addCapsulesToWorld(_0x524e94,'center'):instantRemoveAndDrop(Math['abs'](_0x524e94));}}function _0x59e9(){const _0x46dec6=['length','2\x20rounded-','search','l_v7','opacity','text-[6rem','‚ùó\x20Ï†ÑÏ≤¥\x20Ïù∏Ïõê\x20ÏàòÎ•º','textConten','value','classList','te-500\x20w-f','\x20items-cen','abs','World','border-b\x20b','iner','absolute\x20l','createElem',']\x20text-sla','chain','left','while\x20(tru','removeItem','Gowun\x20Dodu','et-0\x20z-20\x20','Group\x20','clientHeig','text-xs','Events','ter\x20justif','gradient-t','toString','element','\x20Î®ºÏ†Ä\x20ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî','ransform,\x20','warn','eft-1/2\x20-t','init','disabled','forEach','y-center\x20s','debu','ite\x20rounde','origin-top','verflow-hi','ÏïòÏäµÎãàÎã§','default','remaining-','div>','ed-full\x20ca','center','=\x22capsule-','ex\x20items-c','\x22></div></','te\x20top-0\x20w','h-14\x20round','\x22></div>','world','s=\x22','btn-confir','text-white','3576710YPwGZX','k\x20text-gra','innerHTML','px,\x20','setPositio','gacha_tota','üéâ\x20Î™®Îì†\x20Ïù∏ÏõêÏùÑ\x20ÎΩë','top\x22></div','contains','parse','toggle','erif;\x20will','en-bottom\x20','splice','cap-gold','36463WEqjOp','nsform,\x20z-','\x22><div\x20cla','min','601929RpHSRr','span','prototype','11euBmcd','mate-jump-','-0\x20w-full\x20','-center\x20ga','psule-drop','\x20z-50\x20flex','index;\x22>‚ùÑÔ∏è<','width','input','{}.constru','stateObjec','set-0\x20z-20','physics-ca','lever-spin','stringify','gacha_hist','Body','Render','tyle=\x22font','shaking-gr','te-open-to','circle','48yvGXDI','bsolute\x20in','ents-none\x20','appendChil','flex\x20items','ory_v8','solute\x20ins','\x20origin-to','rn\x20this\x22)(','a-zA-Z_$][','order-blac','\x20font-blac','\x20shadow-xl','00\x20text-wh','active','411mSLIik','return\x20(fu','</span><di','le=\x22will-c','3065nKGLfc','setItem','<span\x20clas','$]*)','className','collisionF','getItem','p\x20origin-b','ent','gger','</div>','center\x20jus','counter','drop-zone','afterUpdat','><div\x20clas','264SFdsJh','log','count','sule-area','gravity','constructo','angle','hange:\x20tra','pointer-ev','Engine','div','create','trace','translate(','p\x20shadow-x','w-8\x20h-8\x20fl','batch-inpu','-b\x20border-','remove','hite/90\x20to','sort','solute\x20ani','sqrt','cap-green','pen-bottom','\x22></div><d','table','691106EsTxqL','419559hXDxdf','p-2\x20flex-w','includes','floor','line-lg\x20ab','text-[10px','tify-cente','ilter','action','clientWidt','\x20animate-o','h-1/2\x20roun','y-400\x20abso','cap-purple','(((.+)+)+)','7208PgGqyQ','iv><div\x20cl','-bottom\x20','total-inpu','lex\x20items-','getElement','position','ranslate-x','enter\x20just','\x20grayscale','w-40\x20h-40','capsule-co','unshift','body','__proto__','pb-2\x20mb-1','r-none\x20rea','psule','l-capsule-','btn-settin','gacha_draw','k\x20text-out','style','nction()\x20','history-pa','-bottom\x22\x20s','ded-b-full','hidden','iv\x20class=\x22','push','add','2mApQyV','\x20relative\x20','-white/50\x20','ntainer','ull\x20mb-1','shift','mask','num\x20origin','\x20bg-gray-7','ow-xl\x22></d','cap-blue','rad)','lever','\x20cap-gray\x20','filter','d-full\x20fon','Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.','-change:\x20t','console','ÌïòÏãúÍ≤†ÏäµÎãàÍπå?','px)\x20rotate','s=\x22capsule','h_v7','opacity-50','relative\x20f','text-5xl','cap-red','gacha_batc','setVelocit','group-shak','bind','top','random','t-full\x20bg-','run','-1/2\x20w-14\x20','te-jump-nu','ss=\x22absolu','t-bold\x20bor','o-b\x20from-w','k/10\x20anima','history-li','transform','426cEpduz','ById','m\x20origin-b','v\x20class=\x22a','font-en\x22>?','rectangle','error','<div\x20class','\x20pointer-e','n_v7','ass=\x22absol','rap\x20border','apply','nel','0-9a-zA-Z_','-family:\x20\x27','e)\x20{}','function\x20*'];_0x59e9=function(){return _0x46dec6;};return _0x59e9();}function enableEditMode(){const _0x34fb4a=_0x44b614;isBusy=!![],document[_0x34fb4a(0x15f)+'ById']('total-inpu'+'t')[_0x34fb4a(0x1dc)]=![],document[_0x34fb4a(0x15f)+_0x34fb4a(0x1a5)](_0x34fb4a(0x13f)+'t')[_0x34fb4a(0x1dc)]=![],document[_0x34fb4a(0x15f)+_0x34fb4a(0x1a5)](_0x34fb4a(0x15d)+'t')[_0x34fb4a(0x1bf)][_0x34fb4a(0x178)](_0x34fb4a(0x22d)),document[_0x34fb4a(0x15f)+_0x34fb4a(0x1a5)](_0x34fb4a(0x13f)+'t')[_0x34fb4a(0x1bf)][_0x34fb4a(0x178)](_0x34fb4a(0x22d)),document['getElement'+'ById']('btn-settin'+'gs')['classList'][_0x34fb4a(0x178)](_0x34fb4a(0x175)),document[_0x34fb4a(0x15f)+_0x34fb4a(0x1a5)](_0x34fb4a(0x1f1)+'m')['classList'][_0x34fb4a(0x141)](_0x34fb4a(0x175));}function confirmChanges(){const _0x32773b=_0x44b614;document[_0x32773b(0x15f)+'ById'](_0x32773b(0x15d)+'t')[_0x32773b(0x1dc)]=!![],document[_0x32773b(0x15f)+_0x32773b(0x1a5)](_0x32773b(0x13f)+'t')[_0x32773b(0x1dc)]=!![],document[_0x32773b(0x15f)+'ById'](_0x32773b(0x15d)+'t')[_0x32773b(0x1bf)][_0x32773b(0x141)](_0x32773b(0x22d)),document[_0x32773b(0x15f)+'ById'](_0x32773b(0x13f)+'t')[_0x32773b(0x1bf)][_0x32773b(0x141)](_0x32773b(0x22d)),document[_0x32773b(0x15f)+_0x32773b(0x1a5)](_0x32773b(0x1f1)+'m')['classList'][_0x32773b(0x178)](_0x32773b(0x175)),document[_0x32773b(0x15f)+_0x32773b(0x1a5)](_0x32773b(0x16d)+'gs')[_0x32773b(0x1bf)]['remove'](_0x32773b(0x175)),updateTotalAndAdjustCapsules();}function createWallBetween(_0x13752c,_0x3b096f,_0x10ebce,_0x4287e1,_0x311b4d,_0x254b14){const _0x12d806=_0x44b614,_0xecffbc=Math[_0x12d806(0x145)]((_0x10ebce-_0x13752c)**0x2+(_0x4287e1-_0x3b096f)**0x2),_0x61a44d=Math['atan2'](_0x4287e1-_0x3b096f,_0x10ebce-_0x13752c),_0x36d3b1=(_0x13752c+_0x10ebce)/0x2,_0x42b546=(_0x3b096f+_0x4287e1)/0x2,_0x3c73e8=Bodies[_0x12d806(0x1a9)](_0x36d3b1,_0x42b546,_0xecffbc,_0x311b4d,{..._0x254b14,'angle':_0x61a44d});return _0x3c73e8;}function initPhysics(){const _0x586167=_0x44b614,_0x184d07=document[_0x586167(0x15f)+_0x586167(0x1a5)](_0x586167(0x165)+_0x586167(0x17c)),_0x55cff5=_0x184d07[_0x586167(0x154)+'h'],_0x1cdb6b=_0x184d07['clientHeig'+'ht'];engine=Engine[_0x586167(0x13a)]({'positionIterations':0x14,'velocityIterations':0x14}),engine[_0x586167(0x1ef)][_0x586167(0x133)]['y']=0x1;const _0x3274b6=0x32,_0x1d563b={'isStatic':!![],'render':{'visible':![]},'friction':0x0,'frictionStatic':0x0,'restitution':0.1},_0x22950c=_0x55cff5,_0x44f8d5=_0x1cdb6b,_0x1f2fa4=0x3,_0x203d8e={'x':_0x22950c*0.25+_0x1f2fa4,'y':_0x44f8d5*0.5},_0xd899dc={'x':_0x22950c*0.32-_0x1f2fa4,'y':_0x44f8d5*0.5+_0x1f2fa4*0x2},_0x2db1c9={'x':_0x22950c*0.15+_0x1f2fa4,'y':_0x44f8d5*0.75},_0x3eef7c={'x':_0x22950c*0.22-_0x1f2fa4,'y':_0x44f8d5*0.75+_0x1f2fa4*0x2},_0x10c89c={'x':_0x22950c*0.05+_0x1f2fa4,'y':_0x44f8d5*0.8},_0x295d69={'x':_0x22950c*(0x1-0.25)-_0x1f2fa4,'y':_0x44f8d5*0.5},_0x19f1f1={'x':_0x22950c*(0x1-0.32)+_0x1f2fa4,'y':_0x44f8d5*0.5+_0x1f2fa4*0x2},_0x33f9ec={'x':_0x22950c*(0x1-0.15)-_0x1f2fa4,'y':_0x44f8d5*0.75},_0x294900={'x':_0x22950c*(0x1-0.22)+_0x1f2fa4,'y':_0x44f8d5*0.75+_0x1f2fa4*0x2},_0x7076c8={'x':_0x22950c*(0x1-0.05)-_0x1f2fa4,'y':_0x44f8d5*0.8},_0x52ddf8=0x17,_0x5af8dd={'x':_0x22950c*0.5-_0x52ddf8,'y':_0x44f8d5+0x1e},_0x555ca4={'x':_0x22950c*0.5+_0x52ddf8,'y':_0x44f8d5+0x1e},_0x2c99a1=[createWallBetween(-0x14,-0x32,_0x203d8e['x'],_0x203d8e['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x203d8e['x'],_0x203d8e['y'],_0xd899dc['x'],_0xd899dc['y'],_0x3274b6,_0x1d563b),createWallBetween(_0xd899dc['x'],_0xd899dc['y'],_0x2db1c9['x'],_0x2db1c9['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x2db1c9['x'],_0x2db1c9['y'],_0x3eef7c['x'],_0x3eef7c['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x3eef7c['x'],_0x3eef7c['y'],_0x10c89c['x'],_0x10c89c['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x22950c+0x14,-0x32,_0x295d69['x'],_0x295d69['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x295d69['x'],_0x295d69['y'],_0x19f1f1['x'],_0x19f1f1['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x19f1f1['x'],_0x19f1f1['y'],_0x33f9ec['x'],_0x33f9ec['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x33f9ec['x'],_0x33f9ec['y'],_0x294900['x'],_0x294900['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x294900['x'],_0x294900['y'],_0x7076c8['x'],_0x7076c8['y'],_0x3274b6,_0x1d563b),createWallBetween(_0x10c89c['x'],_0x10c89c['y'],_0x5af8dd['x'],_0x5af8dd['y'],_0x3274b6,{..._0x1d563b,'friction':0.001}),createWallBetween(_0x7076c8['x'],_0x7076c8['y'],_0x555ca4['x'],_0x555ca4['y'],_0x3274b6,{..._0x1d563b,'friction':0.001}),Bodies[_0x586167(0x1a9)](_0x22950c*0.5,_0x44f8d5+0xa,0x64,0x28,{'isStatic':!![],'render':{'visible':![]}})];Composite['add'](engine['world'],_0x2c99a1);const _0x9cb310=getAvailableNumbers();let _0x4b2058=MAX_CAPACITY;document[_0x586167(0x15f)+_0x586167(0x1a5)](_0x586167(0x15d)+'t')[_0x586167(0x1be)]&&(_0x4b2058=Math[_0x586167(0x205)](_0x9cb310[_0x586167(0x1b6)],MAX_CAPACITY)),addCapsulesToWorld(_0x4b2058,_0x586167(0x1e8)),runner=Runner[_0x586167(0x13a)](),Runner[_0x586167(0x19b)](runner,engine),Events['on'](engine,_0x586167(0x12d)+'e',()=>{const _0x5c5e25=_0x586167;capsules[_0x5c5e25(0x1dd)](_0x3c06d6=>{const _0x56db6d=_0x5c5e25,_0x288b60=_0x3c06d6[_0x56db6d(0x167)],{x:_0x2a1731,y:_0x99ecaf}=_0x288b60[_0x56db6d(0x160)];(_0x99ecaf>_0x1cdb6b+0xc8||_0x2a1731<-0xc8||_0x2a1731>_0x55cff5+0xc8)&&(Body[_0x56db6d(0x1f7)+'n'](_0x288b60,{'x':_0x55cff5/0x2,'y':0x0}),Body['setVelocit'+'y'](_0x288b60,{'x':0x0,'y':0x0}));const _0x2400b2=_0x288b60[_0x56db6d(0x135)];_0x3c06d6[_0x56db6d(0x1d6)][_0x56db6d(0x170)][_0x56db6d(0x1a3)]=_0x56db6d(0x13c)+(_0x2a1731-0xe)+_0x56db6d(0x1f6)+(_0x99ecaf-0xe)+(_0x56db6d(0x18d)+'(')+_0x2400b2+_0x56db6d(0x184);});for(let _0x3b70b1=fallingCapsules['length']-0x1;_0x3b70b1>=0x0;_0x3b70b1--){const _0x25bcb2=fallingCapsules[_0x3b70b1],_0x4d5a79=_0x25bcb2['body'],{x:_0x3629b4,y:_0x2dfd43}=_0x4d5a79[_0x5c5e25(0x160)];if(_0x2dfd43>_0x1cdb6b+0x64)World['remove'](engine[_0x5c5e25(0x1ef)],_0x4d5a79),_0x25bcb2[_0x5c5e25(0x1d6)][_0x5c5e25(0x141)](),fallingCapsules[_0x5c5e25(0x200)](_0x3b70b1,0x1);else{const _0x42e63f=_0x4d5a79[_0x5c5e25(0x135)];_0x25bcb2[_0x5c5e25(0x1d6)][_0x5c5e25(0x170)][_0x5c5e25(0x1a3)]=_0x5c5e25(0x13c)+(_0x3629b4-0xe)+_0x5c5e25(0x1f6)+(_0x2dfd43-0xe)+(_0x5c5e25(0x18d)+'(')+_0x42e63f+'rad)';}}});}function updateTotalAndAdjustCapsules(){updateRemainingDisplay(),adjustCapsuleCount();}function adjustCapsuleCount(){const _0x41f15c=_0x44b614;isBusy=!![];const _0x2cc931=document[_0x41f15c(0x15f)+'ById']('total-inpu'+'t')[_0x41f15c(0x1be)],_0x5862e4=getAvailableNumbers(),_0x3c6b76=Math[_0x41f15c(0x205)](_0x5862e4[_0x41f15c(0x1b6)],MAX_CAPACITY);if(!_0x2cc931){isBusy=![];return;}const _0x348c9a=capsules[_0x41f15c(0x1b6)],_0x32d5ab=_0x3c6b76-_0x348c9a;if(_0x32d5ab>0x0)addCapsulesToWorld(_0x32d5ab,'top');else{if(_0x32d5ab<0x0){const _0x412733=Math[_0x41f15c(0x1c2)](_0x32d5ab);instantRemoveAndDrop(_0x412733);}else isBusy=![];}}function instantRemoveAndDrop(_0x35cdf8){const _0x22a95f=_0x44b614;isBusy=!![];const _0x40b72f=Math['min'](_0x35cdf8,capsules['length']),_0x50b1df=document[_0x22a95f(0x15f)+_0x22a95f(0x1a5)](_0x22a95f(0x165)+_0x22a95f(0x17c))[_0x22a95f(0x154)+'h'],_0x2bbe4d=document[_0x22a95f(0x15f)+_0x22a95f(0x1a5)]('capsule-co'+_0x22a95f(0x17c))[_0x22a95f(0x1d0)+'ht'];capsules[_0x22a95f(0x143)]((_0x3022ad,_0x245804)=>{const _0x31df0e=_0x22a95f,_0x59e8b0=Math[_0x31df0e(0x1c2)](_0x3022ad[_0x31df0e(0x167)][_0x31df0e(0x160)]['x']-_0x50b1df/0x2)+(_0x2bbe4d-_0x3022ad[_0x31df0e(0x167)][_0x31df0e(0x160)]['y']),_0x5ceeb3=Math[_0x31df0e(0x1c2)](_0x245804[_0x31df0e(0x167)][_0x31df0e(0x160)]['x']-_0x50b1df/0x2)+(_0x2bbe4d-_0x245804[_0x31df0e(0x167)][_0x31df0e(0x160)]['y']);return _0x59e8b0-_0x5ceeb3;});const _0x8aa28d=capsules[_0x22a95f(0x200)](0x0,_0x40b72f);if(_0x8aa28d['length']===0x0){isBusy=![];return;}_0x8aa28d[_0x22a95f(0x1dd)]((_0x1c1d8d,_0x166c36)=>{const _0x435f57=_0x22a95f;fallingCapsules[_0x435f57(0x177)](_0x1c1d8d),setTimeout(()=>{const _0x36eb79=_0x435f57;_0x1c1d8d[_0x36eb79(0x167)]['collisionF'+_0x36eb79(0x152)]['mask']=0x0,Body[_0x36eb79(0x195)+'y'](_0x1c1d8d[_0x36eb79(0x167)],{'x':0x0,'y':0xf}),_0x166c36===_0x8aa28d[_0x36eb79(0x1b6)]-0x1&&setTimeout(()=>{isBusy=![];},0x1f4);},_0x166c36*0x32);});}function addCapsulesToWorld(_0x256be5,_0x33ad05=_0x44b614(0x1e4)){const _0x396624=_0x44b614;isBusy=!![];const _0x1a44a1=document[_0x396624(0x15f)+'ById'](_0x396624(0x165)+_0x396624(0x17c)),_0x39b60e=_0x1a44a1[_0x396624(0x154)+'h'],_0x4ae685=_0x1a44a1[_0x396624(0x1d0)+'ht'];if(_0x33ad05!==_0x396624(0x198)&&capsules[_0x396624(0x1b6)]>0x0){if(_0x33ad05===_0x396624(0x1e8)||_0x33ad05===_0x396624(0x1e4)){}}_0x33ad05!==_0x396624(0x198)&&(capsules[_0x396624(0x1dd)](_0x248df3=>{const _0x53443d=_0x396624;_0x248df3['element']['remove'](),World[_0x53443d(0x141)](engine['world'],_0x248df3[_0x53443d(0x167)]);}),fallingCapsules[_0x396624(0x1dd)](_0x3a967f=>{const _0x525d6c=_0x396624;_0x3a967f['element'][_0x525d6c(0x141)](),World[_0x525d6c(0x141)](engine[_0x525d6c(0x1ef)],_0x3a967f[_0x525d6c(0x167)]);}),capsules=[],fallingCapsules=[]);const _0x3f92e8=[_0x396624(0x193),_0x396624(0x201),_0x396624(0x146),_0x396624(0x183),_0x396624(0x158)];let _0x1afb99=0x0;const _0x50b35a=setInterval(()=>{const _0x4ed0c5=_0x396624;if(_0x1afb99>=_0x256be5){clearInterval(_0x50b35a),setTimeout(()=>{isBusy=![];},0x1f4);return;}const _0xf9edd0=document[_0x4ed0c5(0x1c7)+_0x4ed0c5(0x127)](_0x4ed0c5(0x139));_0xf9edd0[_0x4ed0c5(0x123)]=_0x4ed0c5(0x215)+_0x4ed0c5(0x16b);const _0xe5078b=_0x3f92e8[_0x1afb99%_0x3f92e8[_0x4ed0c5(0x1b6)]];_0xf9edd0[_0x4ed0c5(0x1f5)]=_0x4ed0c5(0x1ab)+_0x4ed0c5(0x1e9)+'top\x22></div'+_0x4ed0c5(0x12e)+'s=\x22capsule'+_0x4ed0c5(0x15c)+_0xe5078b+_0x4ed0c5(0x1ee),_0x1a44a1['appendChil'+'d'](_0xf9edd0);const _0x1a1a2c=0xe;let _0x57212a,_0x52e0bb;const _0x4f8d86=_0x4ae685*0.45;if(_0x33ad05===_0x4ed0c5(0x198))_0x57212a=_0x39b60e/0x2+(Math['random']()*0x3c-0x1e),_0x52e0bb=-0x32;else _0x33ad05==='center'?(_0x57212a=_0x39b60e/0x2+(Math[_0x4ed0c5(0x199)]()*0x50-0x28),_0x52e0bb=_0x4f8d86+(Math['random']()*0x28-0x14)):(_0x57212a=_0x39b60e/0x2+(Math['random']()*0x50-0x28),_0x52e0bb=_0x4ae685-0x64-Math[_0x4ed0c5(0x199)]()*0xc8);const _0x3346ea=Bodies[_0x4ed0c5(0x21e)](_0x57212a,_0x52e0bb,_0x1a1a2c,{'restitution':0.5,'friction':0.01,'frictionAir':0.01,'density':0.04,'collisionFilter':{'mask':0x1}});World[_0x4ed0c5(0x178)](engine['world'],_0x3346ea),capsules[_0x4ed0c5(0x177)]({'body':_0x3346ea,'element':_0xf9edd0}),_0x1afb99++;},0x32);}function createSnow(){const _0xae339f=_0x44b614,_0x128cd8=document[_0xae339f(0x15f)+_0xae339f(0x1a5)]('snow-conta'+_0xae339f(0x1c5));_0x128cd8['innerHTML']='';const _0x5d6b71=0x32;for(let _0x96f15b=0x0;_0x96f15b<_0x5d6b71;_0x96f15b++){const _0x439dbd=document[_0xae339f(0x1c7)+'ent'](_0xae339f(0x139));_0x439dbd['className']='snowflake';const _0x307d29=Math[_0xae339f(0x199)]()*0x5+0x2+'px';_0x439dbd[_0xae339f(0x170)][_0xae339f(0x210)]=_0x307d29,_0x439dbd['style']['height']=_0x307d29,_0x439dbd[_0xae339f(0x170)][_0xae339f(0x1ca)]=Math[_0xae339f(0x199)]()*0x64+'%',_0x439dbd['style'][_0xae339f(0x198)]=Math[_0xae339f(0x199)]()*0x14+'%',_0x439dbd[_0xae339f(0x170)]['animationD'+'uration']=Math[_0xae339f(0x199)]()*1.5+0x1+'s',_0x439dbd['style'][_0xae339f(0x1ba)]=Math[_0xae339f(0x199)]()*0.7+0.3,_0x128cd8[_0xae339f(0x222)+'d'](_0x439dbd);}setTimeout(()=>{const _0x11a4e8=_0xae339f;_0x128cd8[_0x11a4e8(0x1f5)]='';},0xbb8);}async function dropCapsulesSequentially(_0x16bf22){const _0x2bcc30=_0x44b614,_0x3a1840=document[_0x2bcc30(0x15f)+_0x2bcc30(0x1a5)](_0x2bcc30(0x165)+_0x2bcc30(0x17c)),_0x4831d6=_0x3a1840['clientWidt'+'h'],_0x439adf=_0x3a1840[_0x2bcc30(0x1d0)+'ht'],_0x7f2ad2=Math['min'](_0x16bf22,capsules['length']);for(let _0xbfd368=0x0;_0xbfd368<_0x7f2ad2;_0xbfd368++){capsules[_0x2bcc30(0x143)]((_0x2676bf,_0x2f274b)=>{const _0x11b824=_0x2bcc30,_0x4f270a=Math[_0x11b824(0x1c2)](_0x2676bf[_0x11b824(0x167)][_0x11b824(0x160)]['x']-_0x4831d6/0x2)+(_0x439adf-_0x2676bf[_0x11b824(0x167)][_0x11b824(0x160)]['y']),_0x48993a=Math[_0x11b824(0x1c2)](_0x2f274b[_0x11b824(0x167)][_0x11b824(0x160)]['x']-_0x4831d6/0x2)+(_0x439adf-_0x2f274b[_0x11b824(0x167)][_0x11b824(0x160)]['y']);return _0x4f270a-_0x48993a;});const _0x303c00=capsules[0x0];if(!_0x303c00)break;capsules[_0x2bcc30(0x17e)](),fallingCapsules[_0x2bcc30(0x177)](_0x303c00),_0x303c00[_0x2bcc30(0x167)][_0x2bcc30(0x124)+_0x2bcc30(0x152)][_0x2bcc30(0x17f)]=0x0,Body[_0x2bcc30(0x195)+'y'](_0x303c00[_0x2bcc30(0x167)],{'x':0x0,'y':0x8}),await new Promise(_0x60571c=>setTimeout(_0x60571c,0xc8));}}function getDrawnNumbersFlat(){return drawnHistory['flat']();}function getAvailableNumbers(){const _0x20e690=_0x44b614,_0x21f02c=document['getElement'+'ById'](_0x20e690(0x15d)+'t')[_0x20e690(0x1be)];if(_0x21f02c===''||parseInt(_0x21f02c)<0x1)return[];const _0x3e82e2=parseInt(_0x21f02c),_0xb4096d=Array['from']({'length':_0x3e82e2},(_0x2e3abc,_0x55c850)=>_0x55c850+0x1),_0xc18b5b=getDrawnNumbersFlat();return _0xb4096d[_0x20e690(0x187)](_0x5295a9=>!_0xc18b5b[_0x20e690(0x14d)](_0x5295a9));}function updateRemainingDisplay(){const _0x2d3050=_0x44b614,_0x2d817a=document[_0x2d3050(0x15f)+_0x2d3050(0x1a5)](_0x2d3050(0x15d)+'t')['value'],_0x4fc9de=document[_0x2d3050(0x15f)+'ById'](_0x2d3050(0x1e5)+_0x2d3050(0x131));if(!_0x2d817a)_0x4fc9de[_0x2d3050(0x1bd)+'t']='--';else{const _0x4891e5=getAvailableNumbers();_0x4fc9de['textConten'+'t']=_0x4891e5[_0x2d3050(0x1b6)],localStorage[_0x2d3050(0x120)](_0x2d3050(0x1f8)+'l_v7',_0x2d817a);}updateHistoryUI();}async function startGacha(){const _0x422c46=_0x44b614;let _0xb60f39=document[_0x422c46(0x15f)+_0x422c46(0x1a5)]('lever')[_0x422c46(0x1bf)][_0x422c46(0x1fb)]('lever-spin');if(_0xb60f39||isBusy)return;const _0x1d0e23=document[_0x422c46(0x15f)+_0x422c46(0x1a5)]('total-inpu'+'t');if(!_0x1d0e23[_0x422c46(0x1be)]){alert(_0x422c46(0x1bc)+_0x422c46(0x1d7));return;}const _0x15dd7c=getAvailableNumbers();if(_0x15dd7c[_0x422c46(0x1b6)]===0x0){alert(_0x422c46(0x1f9)+_0x422c46(0x1e3));return;}isBusy=!![];const _0x5490ef=capsules['length'],_0x308ca9=_0x15dd7c[_0x422c46(0x1b6)];if(_0x5490ef<Math['min'](_0x308ca9,MAX_CAPACITY)){const _0x5d0883=Math[_0x422c46(0x205)](_0x308ca9,MAX_CAPACITY)-_0x5490ef;addCapsulesToWorld(_0x5d0883,_0x422c46(0x198));}let _0x35949c=parseInt(document['getElement'+'ById'](_0x422c46(0x13f)+'t')[_0x422c46(0x1be)])||0x1;if(_0x35949c<0x1)_0x35949c=0x1;localStorage[_0x422c46(0x120)](_0x422c46(0x194)+'h_v7',_0x35949c);const _0x40e2a1=document['getElement'+_0x422c46(0x1a5)](_0x422c46(0x185)),_0x4d98fb=document[_0x422c46(0x15f)+_0x422c46(0x1a5)](_0x422c46(0x21c)+'oup');_0x40e2a1[_0x422c46(0x1bf)][_0x422c46(0x178)](_0x422c46(0x216)),setTimeout(()=>{const _0x59e85a=_0x422c46;_0x4d98fb[_0x59e85a(0x1bf)][_0x59e85a(0x178)](_0x59e85a(0x196)+'e'),createSnow(),capsules[_0x59e85a(0x1dd)](_0x191f97=>{const _0x114906=_0x59e85a;Body[_0x114906(0x195)+'y'](_0x191f97[_0x114906(0x167)],{'x':(Math[_0x114906(0x199)]()-0.5)*0x5,'y':-0x3});}),setTimeout(()=>{dropCapsulesSequentially(_0x35949c);},0x1f4),setTimeout(()=>{const _0x4fccf8=_0x59e85a;_0x40e2a1['classList'][_0x4fccf8(0x141)](_0x4fccf8(0x216)),_0x4d98fb[_0x4fccf8(0x1bf)]['remove'](_0x4fccf8(0x196)+'e'),isBusy=![],processBatchDraw(_0x15dd7c,_0x35949c);const _0x2e0587=getAvailableNumbers(),_0x1bb1f1=Math[_0x4fccf8(0x205)](_0x2e0587[_0x4fccf8(0x1b6)],MAX_CAPACITY),_0x13e2b7=capsules[_0x4fccf8(0x1b6)];if(_0x13e2b7<_0x1bb1f1){const _0x25a131=_0x1bb1f1-_0x13e2b7;_0x25a131>0x0&&addCapsulesToWorld(_0x25a131,_0x4fccf8(0x198));}},0x5dc);},0xc8);}function processBatchDraw(_0x3b496f,_0x300e54){const _0x1572a6=_0x44b614,_0x3f686e=Math[_0x1572a6(0x205)](_0x300e54,_0x3b496f[_0x1572a6(0x1b6)]),_0x4e8380=[];let _0x1e1b30=[..._0x3b496f];for(let _0xf42ebf=0x0;_0xf42ebf<_0x3f686e;_0xf42ebf++){const _0x3975fa=Math[_0x1572a6(0x14e)](Math[_0x1572a6(0x199)]()*_0x1e1b30[_0x1572a6(0x1b6)]);_0x4e8380['push'](_0x1e1b30[_0x3975fa]),_0x1e1b30[_0x1572a6(0x200)](_0x3975fa,0x1);}_0x4e8380[_0x1572a6(0x1b6)]>0x0&&(drawnHistory[_0x1572a6(0x177)](_0x4e8380),localStorage[_0x1572a6(0x120)](_0x1572a6(0x218)+_0x1572a6(0x224),JSON[_0x1572a6(0x217)](drawnHistory)));const _0x1f19be=[_0x1572a6(0x193),_0x1572a6(0x201),_0x1572a6(0x146),_0x1572a6(0x183),_0x1572a6(0x158)],_0x2d6426=_0x4e8380[0x0],_0x430cd3=_0x1f19be[_0x2d6426%_0x1f19be[_0x1572a6(0x1b6)]];visualDropSingle(_0x4e8380,_0x300e54,_0x430cd3);}function visualDropSingle(_0x306384,_0x2f36fb,_0x287dd4){const _0xd564b6=_0x44b614,_0x23bfe2=document[_0xd564b6(0x15f)+'ById'](_0xd564b6(0x12c)),_0x5998c9=document['createElem'+_0xd564b6(0x127)](_0xd564b6(0x139));_0x5998c9[_0xd564b6(0x123)]=_0xd564b6(0x1c6)+_0xd564b6(0x1da)+_0xd564b6(0x161)+_0xd564b6(0x19c)+_0xd564b6(0x1ed)+_0xd564b6(0x1e7)+_0xd564b6(0x20d)+_0xd564b6(0x20e)+_0xd564b6(0x1c1)+_0xd564b6(0x1d3)+_0xd564b6(0x1de)+'hadow-lg\x20o'+_0xd564b6(0x1e2)+'dden\x20borde'+_0xd564b6(0x16a)+_0xd564b6(0x16c)+'display',_0x5998c9[_0xd564b6(0x1f5)]=_0xd564b6(0x1ab)+'=\x22capsule-'+_0xd564b6(0x1fa)+_0xd564b6(0x12e)+_0xd564b6(0x18e)+_0xd564b6(0x15c)+_0x287dd4+(_0xd564b6(0x148)+_0xd564b6(0x176)+_0xd564b6(0x1f2)+_0xd564b6(0x22a)+'k\x20text-2xl'+_0xd564b6(0x17a)+'z-50\x20drop-'+'shadow-md\x20'+_0xd564b6(0x1a8)+_0xd564b6(0x129)),_0x23bfe2[_0xd564b6(0x222)+'d'](_0x5998c9),setTimeout(()=>{const _0x5ea1e4=_0xd564b6;_0x5998c9[_0x5ea1e4(0x141)](),showBatchResult(_0x306384,_0x2f36fb),updateRemainingDisplay();},0x320);}function showBatchResult(_0x3a3fa5,_0x3877d7){const _0x45f6fa=_0x44b614,_0x2c9cb4=document[_0x45f6fa(0x15f)+_0x45f6fa(0x1a5)]('result-mod'+'al'),_0x36c934=document[_0x45f6fa(0x15f)+'ById']('result-cap'+_0x45f6fa(0x132));_0x36c934[_0x45f6fa(0x1f5)]='';const _0xfccf2b=[_0x45f6fa(0x193),_0x45f6fa(0x201),_0x45f6fa(0x146),_0x45f6fa(0x183),_0x45f6fa(0x158)];for(let _0x1a7882=0x0;_0x1a7882<_0x3877d7;_0x1a7882++){const _0x218521=document[_0x45f6fa(0x1c7)+_0x45f6fa(0x127)](_0x45f6fa(0x139)),_0x44f92d=_0x3877d7===0x1?_0x45f6fa(0x164):'w-24\x20h-24',_0x2978b8=_0x3877d7===0x1?_0x45f6fa(0x1bb)+']':_0x45f6fa(0x192);_0x218521[_0x45f6fa(0x123)]=_0x45f6fa(0x191)+_0x45f6fa(0x15e)+_0x45f6fa(0x12a)+_0x45f6fa(0x151)+'r\x20shrink-0'+'\x20'+_0x44f92d;if(_0x1a7882<_0x3a3fa5['length']){const _0x102d7c=_0x3a3fa5[_0x1a7882],_0x45515e=_0xfccf2b[(_0x102d7c+_0x1a7882)%_0xfccf2b['length']];_0x218521[_0x45f6fa(0x1f5)]=_0x45f6fa(0x121)+'s=\x22'+_0x2978b8+('\x20font-blac'+_0x45f6fa(0x16f)+_0x45f6fa(0x14f)+_0x45f6fa(0x144)+_0x45f6fa(0x20a)+_0x45f6fa(0x180)+_0x45f6fa(0x173)+_0x45f6fa(0x21b)+_0x45f6fa(0x1b3)+_0x45f6fa(0x1cd)+'m\x27,\x20sans-s'+_0x45f6fa(0x1fe)+_0x45f6fa(0x18a)+_0x45f6fa(0x1d8)+'z-index;\x22>')+_0x102d7c+(_0x45f6fa(0x230)+_0x45f6fa(0x1a7)+_0x45f6fa(0x220)+_0x45f6fa(0x214)+_0x45f6fa(0x1ac)+'vents-none'+'\x22><div\x20cla'+_0x45f6fa(0x19e)+_0x45f6fa(0x1ec)+'-full\x20h-1/'+_0x45f6fa(0x1b7)+'t-full\x20bg-'+'gradient-t'+_0x45f6fa(0x1a0)+_0x45f6fa(0x142)+_0x45f6fa(0x17b)+_0x45f6fa(0x1c4)+_0x45f6fa(0x229)+_0x45f6fa(0x1a1)+_0x45f6fa(0x21d)+'p\x20origin-b'+'ottom\x20shad'+'ow-xl\x22></d'+_0x45f6fa(0x15b)+_0x45f6fa(0x1ae)+'ute\x20bottom'+_0x45f6fa(0x20b)+_0x45f6fa(0x156)+_0x45f6fa(0x174)+'\x20')+_0x45515e+(_0x45f6fa(0x155)+_0x45f6fa(0x147)+_0x45f6fa(0x226)+_0x45f6fa(0x13d)+'l\x22></div><'+'/div>');}else _0x218521[_0x45f6fa(0x1f5)]='<span\x20clas'+_0x45f6fa(0x1f0)+_0x2978b8+(_0x45f6fa(0x22a)+_0x45f6fa(0x1f4)+_0x45f6fa(0x157)+'lute\x20anima'+_0x45f6fa(0x19d)+_0x45f6fa(0x1a6)+'ottom\x22\x20sty'+_0x45f6fa(0x231)+_0x45f6fa(0x136)+_0x45f6fa(0x203)+_0x45f6fa(0x20f)+'/span><div'+'\x20class=\x22ab'+_0x45f6fa(0x225)+_0x45f6fa(0x1ce)+_0x45f6fa(0x137)+_0x45f6fa(0x221)+_0x45f6fa(0x190)+_0x45f6fa(0x163)+_0x45f6fa(0x204)+'ss=\x22absolu'+'te\x20top-0\x20w'+'-full\x20h-1/'+_0x45f6fa(0x1b7)+_0x45f6fa(0x19a)+_0x45f6fa(0x1d4)+_0x45f6fa(0x1a0)+'hite/90\x20to'+'-white/50\x20'+_0x45f6fa(0x1c4)+_0x45f6fa(0x229)+_0x45f6fa(0x1a1)+'te-open-to'+_0x45f6fa(0x126)+'ottom\x20shad'+_0x45f6fa(0x182)+_0x45f6fa(0x15b)+_0x45f6fa(0x1ae)+'ute\x20bottom'+_0x45f6fa(0x20b)+_0x45f6fa(0x156)+_0x45f6fa(0x174)+_0x45f6fa(0x186)+'animate-op'+_0x45f6fa(0x1ff)+_0x45f6fa(0x1e1)+_0x45f6fa(0x22b)+_0x45f6fa(0x1eb)+_0x45f6fa(0x1e6));_0x36c934[_0x45f6fa(0x222)+'d'](_0x218521);}_0x2c9cb4[_0x45f6fa(0x1bf)][_0x45f6fa(0x141)](_0x45f6fa(0x175));}function closeModal(){const _0x35750e=_0x44b614;document[_0x35750e(0x15f)+_0x35750e(0x1a5)]('result-mod'+'al')[_0x35750e(0x1bf)][_0x35750e(0x178)](_0x35750e(0x175));}function toggleHistory(){const _0x43d82d=_0x44b614;document['getElement'+'ById'](_0x43d82d(0x172)+_0x43d82d(0x1b1))[_0x43d82d(0x1bf)][_0x43d82d(0x1fd)](_0x43d82d(0x175));}function updateHistoryUI(){const _0x6a8327=_0x44b614,_0x3d7294=document[_0x6a8327(0x15f)+_0x6a8327(0x1a5)](_0x6a8327(0x1a2)+'st');_0x3d7294['innerHTML']='',[...drawnHistory]['reverse']()[_0x6a8327(0x1dd)]((_0x3f4dc6,_0x197a06)=>{const _0x2e7529=_0x6a8327,_0x245462=document[_0x2e7529(0x1c7)+_0x2e7529(0x127)](_0x2e7529(0x139));_0x245462[_0x2e7529(0x123)]=_0x2e7529(0x223)+_0x2e7529(0x20c)+_0x2e7529(0x14c)+_0x2e7529(0x1af)+_0x2e7529(0x140)+'slate-700\x20'+_0x2e7529(0x169);const _0x4e7710=document[_0x2e7529(0x1c7)+_0x2e7529(0x127)](_0x2e7529(0x207));_0x4e7710[_0x2e7529(0x123)]=_0x2e7529(0x150)+_0x2e7529(0x1c8)+_0x2e7529(0x1c0)+_0x2e7529(0x17d),_0x4e7710[_0x2e7529(0x1bd)+'t']=_0x2e7529(0x1cf)+(drawnHistory[_0x2e7529(0x1b6)]-_0x197a06),_0x245462[_0x2e7529(0x222)+'d'](_0x4e7710),_0x3f4dc6[_0x2e7529(0x1dd)](_0x45c048=>{const _0x14e7b1=_0x2e7529,_0x4a15fe=document['createElem'+_0x14e7b1(0x127)](_0x14e7b1(0x139));_0x4a15fe[_0x14e7b1(0x123)]=_0x14e7b1(0x13e)+_0x14e7b1(0x1ea)+_0x14e7b1(0x162)+'ify-center'+_0x14e7b1(0x181)+_0x14e7b1(0x22c)+_0x14e7b1(0x1e0)+_0x14e7b1(0x188)+_0x14e7b1(0x19f)+'der\x20border'+'-gray-600\x20'+_0x14e7b1(0x1d1),_0x4a15fe[_0x14e7b1(0x1bd)+'t']=_0x45c048,_0x245462['appendChil'+'d'](_0x4a15fe);}),_0x3d7294['appendChil'+'d'](_0x245462);});}function resetData(){const _0x2ee5cb=_0x44b614;if(!confirm('Î™®Îì†\x20Í∏∞Î°ùÏùÑ\x20Ï¥àÍ∏∞Ìôî'+_0x2ee5cb(0x18c)))return;drawnHistory=[],localStorage['removeItem'](_0x2ee5cb(0x16e)+_0x2ee5cb(0x1ad)),localStorage[_0x2ee5cb(0x1cc)]('gacha_hist'+_0x2ee5cb(0x224)),updateRemainingDisplay();const _0x2b21ac=document['getElement'+'ById']('total-inpu'+'t')[_0x2ee5cb(0x1be)],_0x3f75cc=getAvailableNumbers(),_0x51bc4f=_0x2b21ac&&!isNaN(parseInt(_0x2b21ac))?Math[_0x2ee5cb(0x205)](_0x3f75cc[_0x2ee5cb(0x1b6)],MAX_CAPACITY):INITIAL_CAPSULE_COUNT;addCapsulesToWorld(_0x51bc4f,_0x2ee5cb(0x1e8)),alert(_0x2ee5cb(0x189));}window['addEventLi'+'stener']('load',init);function _0x1886a4(_0x290d99){function _0x321514(_0x163cac){const _0x1e4d5a=_0x388a;if(typeof _0x163cac==='string')return function(_0x3e5130){}[_0x1e4d5a(0x134)+'r'](_0x1e4d5a(0x1cb)+_0x1e4d5a(0x1b4))['apply'](_0x1e4d5a(0x12b));else(''+_0x163cac/_0x163cac)[_0x1e4d5a(0x1b6)]!==0x1||_0x163cac%0x14===0x0?function(){return!![];}[_0x1e4d5a(0x134)+'r'](_0x1e4d5a(0x1df)+'gger')['call'](_0x1e4d5a(0x153)):function(){return![];}['constructo'+'r'](_0x1e4d5a(0x1df)+_0x1e4d5a(0x128))[_0x1e4d5a(0x1b0)](_0x1e4d5a(0x213)+'t');_0x321514(++_0x163cac);}try{if(_0x290d99)return _0x321514;else _0x321514(0x0);}catch(_0x4b57d8){}}
    </script>
</body>
</html>
